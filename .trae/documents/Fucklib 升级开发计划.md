# 升级开发计划 (v3)：全中文界面与多预选座位支持

根据您的最新反馈，我已将“全中文界面”和“多预选座位支持”纳入计划。

## 一、 后端开发 (Backend)

### 1. 升级图书馆服务 (Library Service)
*   **多预选座位支持**：修改 `get_seat_info` 方法，使其返回**所有**预选座位列表（通常为2个），而不仅是第一个。
*   **基础数据查询**：实现 `get_lib_list`, `get_floor_list`, `get_seat_list` (含座位分类逻辑：普通 vs 显示器), `get_seat_status`。
*   **预约核心业务**：实现 `get_reserve_info`, `reserve_seat`, `cancel_reserve`。

### 2. 定时任务系统 (Task Scheduler)
*   **智能预约逻辑**：
    *   在执行“使用默认座位”的定时预约任务时，**自动轮询**所有预选座位。
    *   策略：优先尝试第一个预选座位；若失败（如已被占），自动尝试第二个。
*   **任务管理 API**：支持创建、更新、删除任务，并动态同步到调度器。

### 3. 邀请码与管理员系统
*   **`auth.py`**: 注册接口增加中文错误提示，集成邀请码校验。
*   **`admin.py`**: 实现中文注释的邀请码生成与用户管理接口。

## 二、 前端开发 (Frontend) - **全中文界面**

### 1. 交互式预约页面
*   **级联选择器**：图书馆 -> 楼层（中文标签）。
*   **座位展示**：
    *   标签页：【普通座位】 / 【显示器座位 (Y区)】。
    *   图例：空闲 (绿色)、占用 (红色)、我的预约 (蓝色)。
*   **预约管理卡片**：
    *   展示当前预约信息（图书馆、座位号、时间）。
    *   【取消预约】按钮。

### 2. 定时任务管理界面
*   **任务列表**：使用中文描述任务状态（例如：“每天 08:00 预约”、“执行成功”、“上次报错：xx”）。
*   **新建任务弹窗**：
    *   **任务类型**：【自动预约】 / 【蓝牙签到】。
    *   **座位选择策略** (仅预约)：
        *   选项 A：【尝试所有预选座位】（说明：优先尝试座位1，失败则尝试座位2）。
        *   选项 B：【手动选择特定座位】（弹出中文交互式选座器）。

### 3. 管理员后台 & 导航
*   **侧边栏**：【控制台】、【预约座位】、【定时任务】、【系统设置】（管理员可见：【用户管理】、【邀请码】）。
*   **管理页**：全中文表格列头和操作按钮。

## 三、 执行步骤

1.  **Backend**: 修改 `LibService` 适配多预选座位，实现 API。
2.  **Backend**: 升级调度器逻辑，支持多座位轮询策略。
3.  **Frontend**: 开发全中文交互界面，集成新 API。
